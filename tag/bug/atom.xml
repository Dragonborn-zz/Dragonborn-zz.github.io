<?xml version="1.0"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>http://example.com</id>
    <title>Dragonborn-zz&#39;s个人博客 • Posts by &#34;bug&#34; tag</title>
    <link href="http://example.com" />
    <updated>2024-02-18T03:28:48.555Z</updated>
    <category term="docker" />
    <category term="gitlab" />
    <category term="maven" />
    <category term="lombok" />
    <category term="manifold" />
    <category term="nginx" />
    <category term="android" />
    <category term="gson" />
    <category term="bug" />
    <category term="java" />
    <category term="mybatis" />
    <category term="TypeHandler" />
    <category term="PageHelper" />
    <category term="git" />
    <category term="vim" />
    <entry>
        <id>http://example.com/2024/02/18/android/Gson%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E6%97%B6%E9%97%B4long%E5%80%BC%E8%BD%AC%E4%B8%BADate%E7%B1%BB%E5%9E%8B%E6%8A%A5%E9%94%99/</id>
        <title>Gson反序列化时间long值转为Date类型报错</title>
        <link rel="alternate" href="http://example.com/2024/02/18/android/Gson%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E6%97%B6%E9%97%B4long%E5%80%BC%E8%BD%AC%E4%B8%BADate%E7%B1%BB%E5%9E%8B%E6%8A%A5%E9%94%99/"/>
        <content type="html">&lt;h2 id=&#34;gson反序列化时间long值转为date类型报错即gson无法解析位数太长的时间格式&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#gson反序列化时间long值转为date类型报错即gson无法解析位数太长的时间格式&#34;&gt;#&lt;/a&gt; Gson 反序列化时间 long 值转为 Date 类型报错，即 Gson 无法解析位数太长的时间格式&lt;/h2&gt;
&lt;h2 id=&#34;报错日志&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#报错日志&#34;&gt;#&lt;/a&gt; 报错日志&lt;/h2&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;37&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs log&#34;&gt;com.google.gson.JsonSyntaxException: 2022-10-21 00:00:00&lt;br&gt;at com.google.gson.internal.bind.DateTypeAdapter.deserializeToDate(DateTypeAdapter.java:87)&lt;br&gt;at com.google.gson.internal.bind.DateTypeAdapter.read(DateTypeAdapter.java:75)&lt;br&gt;at com.google.gson.internal.bind.DateTypeAdapter.read(DateTypeAdapter.java:46)&lt;br&gt;at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$1.read(ReflectiveTypeAdapterFactory.java:131)&lt;br&gt;at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.read(ReflectiveTypeAdapterFactory.java:222)&lt;br&gt;at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$1.read(ReflectiveTypeAdapterFactory.java:131)&lt;br&gt;at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.read(ReflectiveTypeAdapterFactory.java:222)&lt;br&gt;at retrofit2.converter.gson.GsonResponseBodyConverter.convert(GsonResponseBodyConverter.java:40)&lt;br&gt;at retrofit2.converter.gson.GsonResponseBodyConverter.convert(GsonResponseBodyConverter.java:27)&lt;br&gt;at retrofit2.OkHttpCall.parseResponse(OkHttpCall.java:243)&lt;br&gt;at retrofit2.OkHttpCall$1.onResponse(OkHttpCall.java:153)&lt;br&gt;at okhttp3.RealCall$AsyncCall.execute(RealCall.java:174)&lt;br&gt;at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)&lt;br&gt;at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)&lt;br&gt;at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)&lt;br&gt;at java.lang.Thread.run(Thread.java:920)&lt;br&gt;Caused by: java.text.ParseException: Failed to parse date [&amp;quot;2022-10-21 00:00:00&amp;quot;]: Invalid time zone indicator &amp;#x27; &amp;#x27;&lt;br&gt;at com.google.gson.internal.bind.util.ISO8601Utils.parse(ISO8601Utils.java:274)&lt;br&gt;at com.google.gson.internal.bind.DateTypeAdapter.deserializeToDate(DateTypeAdapter.java:85)&lt;br&gt;at com.google.gson.internal.bind.DateTypeAdapter.read(DateTypeAdapter.java:75) &lt;br&gt;at com.google.gson.internal.bind.DateTypeAdapter.read(DateTypeAdapter.java:46) &lt;br&gt;at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$1.read(ReflectiveTypeAdapterFactory.java:131) &lt;br&gt;at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.read(ReflectiveTypeAdapterFactory.java:222) &lt;br&gt;at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$1.read(ReflectiveTypeAdapterFactory.java:131) &lt;br&gt;at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.read(ReflectiveTypeAdapterFactory.java:222) &lt;br&gt;at retrofit2.converter.gson.GsonResponseBodyConverter.convert(GsonResponseBodyConverter.java:40) &lt;br&gt;at retrofit2.converter.gson.GsonResponseBodyConverter.convert(GsonResponseBodyConverter.java:27) &lt;br&gt;at retrofit2.OkHttpCall.parseResponse(OkHttpCall.java:243) &lt;br&gt;at retrofit2.OkHttpCall$1.onResponse(OkHttpCall.java:153) &lt;br&gt;at okhttp3.RealCall$AsyncCall.execute(RealCall.java:174) &lt;br&gt;at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32) &lt;br&gt;at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167) &lt;br&gt;at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641) &lt;br&gt;at java.lang.Thread.run(Thread.java:920) &lt;br&gt;Caused by: java.lang.IndexOutOfBoundsException: Invalid time zone indicator &amp;#x27; &amp;#x27;&lt;br&gt;at com.google.gson.internal.bind.util.ISO8601Utils.parse(ISO8601Utils.java:245) &lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;引发原因，返回格式解析出了问题&lt;/p&gt;
&lt;figure class=&#34;highlight reasonml&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs reasonml&#34;&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;new&lt;/span&gt; Retrofit .&lt;span class=&#34;hljs-constructor&#34;&gt;Builder()&lt;/span&gt;.base&lt;span class=&#34;hljs-constructor&#34;&gt;Url(Api.BASE_URL)&lt;/span&gt;.add&lt;span class=&#34;hljs-constructor&#34;&gt;ConverterFactory(GsonConverterFactory.&lt;span class=&#34;hljs-params&#34;&gt;create&lt;/span&gt;()&lt;/span&gt;).build&lt;span class=&#34;hljs-literal&#34;&gt;()&lt;/span&gt;;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;解决办法&lt;br&gt;
把 &lt;code&gt;GsonConverterFactory.create()&lt;/code&gt;  改成 &lt;code&gt;GsonConverterFactory.create(new GsonBuilder().setDateFormat(&amp;quot;yyyy-MM-dd HH:mm:ss&amp;quot;).create())&lt;/code&gt;&lt;/p&gt;
</content>
        <category term="gson" />
        <category term="bug" />
        <updated>2024-02-18T03:28:48.555Z</updated>
    </entry>
</feed>
